<div class="jumbotron">
    <div class="container">
      <h1 class="display-3 text-center">Best Online Shopping</h1>
    </div>

    <% include ./instant-search %>
    
</div>

<div class="row" id="productSearchResults">

    <% for (let i = 0; i < products.length; i++) { %>
    
      <div class="col">      
          <div class="card">
              <a href="/api/product/<%= products[i]._id %>"> 
                <img class="card-img-top" src="<%= products[i].image %>" alt="Card image cap" />
              </a> 
              <div class="card-body">
                <h5 class="card-title">Name: <%= products[i].name %> </h5>
                <p class="card-text">Category: <%= products[i].category.name %> </p>
                <p class="card-text">$ <%= products[i].price %> </p>
                <a href="/api/product/<%= products[i]._id %>" class="btn btn-primary">Shop</a>
              </div>
          </div>
      </div>
    <% } %>

</div>

<nav aria-label="Page navigation example" class="d-flex justify-content-center">
    <ul class="pagination">
      
      <% if ( current === 1 || isNaN(current) ) { %>
        <li class="page-item disabled">
            <a class="page-link" href="/page/<%= previousPage %>" aria-label="Previous">
              <span aria-hidden="true">&laquo;</span>
              <span class="sr-only">Previous</span>
            </a>
          </li>
        <% } else { %>
          <li class="page-item">
              <a class="page-link" href="/page/<%= previousPage %>" aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
                <span class="sr-only">Previous</span>
              </a>
            </li>
        <% } %>
      <li>

        <% for (let i = 1; i <= pages; i++) { %>
          <% if (i === current) { %>
            <li class="page-item disabled"><a class="page-link" href="/page/<%= i %>"> <%= i %> </a></li>
          <% } else { %>
            <li class="page-item"><a class="page-link" href="/page/<%= i %>"> <%= i %> </a></li>
          <% } %>
        <% } %>
        
      </li>

      <% if ( current === pages - 1 ) { %>
        <li class="page-item disabled">
            <a class="page-link" href="/page/<%= nextPage %>" aria-label="Next">
              <span aria-hidden="true">&raquo;</span>
              <span class="sr-only">Next</span>
            </a>
          </li>
        <% } else { %>
          <li class="page-item">
              <a class="page-link" href="/page/<%= nextPage %>" aria-label="Next">
                <span aria-hidden="true">&raquo;</span>
                <span class="sr-only">Next</span>
              </a>
            </li>
        <% } %>
        
    </ul>
  </nav>